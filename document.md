# çˆ†æ¬¾æ ‡é¢˜ç”ŸæˆåŠ©æ‰‹ - æŠ€æœ¯æ–‡æ¡£

## 1. é¡¹ç›®æ¦‚è¿°

"çˆ†æ¬¾æ ‡é¢˜ç”ŸæˆåŠ©æ‰‹"æ˜¯ä¸€ä¸ªåŸºäºå¤§å‹è¯­è¨€æ¨¡å‹çš„å·¥å…·ï¼Œæ—¨åœ¨å¸®åŠ©å†…å®¹åˆ›ä½œè€…ã€è‡ªåª’ä½“è¿è¥è€…å’Œè¥é”€äººå‘˜å¿«é€Ÿç”Ÿæˆå…·æœ‰çˆ†æ¬¾æ½œåŠ›çš„æ ‡é¢˜ã€‚è¯¥å·¥å…·ä»8ä¸ªä¸åŒè§’åº¦ä¸ºç”¨æˆ·æä¾›ç³»ç»ŸåŒ–çš„æ ‡é¢˜æ–¹æ¡ˆï¼Œæå‡å†…å®¹çš„ç‚¹å‡»ç‡å’Œä¼ æ’­æ•ˆæœã€‚

### 1.1 æ ¸å¿ƒåŠŸèƒ½

- **å¤šè§’åº¦æ ‡é¢˜ç”Ÿæˆ**ï¼šä»8ä¸ªä¸åŒè§’åº¦ç”Ÿæˆæ ‡é¢˜æ–¹æ¡ˆ
- **å¤šæ¨¡å‹æ”¯æŒ**ï¼šæ”¯æŒå¤šç§å¤§è¯­è¨€æ¨¡å‹ï¼ŒåŒ…æ‹¬DeepSeekã€Qwenç­‰
- **å‚æ•°è‡ªå®šä¹‰**ï¼šæä¾›æ¸©åº¦ã€æœ€å¤§è¾“å‡ºé•¿åº¦ç­‰å‚æ•°è°ƒæ•´
- **äº¤äº’å¼ä½“éªŒ**ï¼šé€šè¿‡Streamlitå®ç°ç›´è§‚çš„ç”¨æˆ·ç•Œé¢
- **æ ‡é¢˜æ±‡æ€»ä¸å¤åˆ¶**ï¼šè‡ªåŠ¨æå–å¹¶æ±‡æ€»ç”Ÿæˆçš„æ ‡é¢˜

### 1.2 é¡¹ç›®ç»“æ„

```
blazing-title-maker/
â”‚
â”œâ”€â”€ main.py              # ä¸»åº”ç”¨ç¨‹åº
â”œâ”€â”€ config.py            # é…ç½®ç®¡ç†
â”œâ”€â”€ prompt.md            # æç¤ºè¯æ¨¡æ¿
â”œâ”€â”€ requirements.txt     # ä¾èµ–æ¸…å•
â”œâ”€â”€ document.md          # ä»£ç è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ .env.yaml            # ç¯å¢ƒé…ç½®æ–‡ä»¶
â”œâ”€â”€ .env.example.yaml    # ç¤ºä¾‹é…ç½®æ–‡ä»¶
â”œâ”€â”€ .gitignore           # Gitå¿½ç•¥é…ç½®
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## 2. æŠ€æœ¯æ¶æ„

### 2.1 æ•´ä½“æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨ç®€æ´çš„æ¨¡å—åŒ–æ¶æ„ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªç»„ä»¶ï¼š

1. **ç”¨æˆ·ç•Œé¢å±‚**ï¼šåŸºäºStreamlitæ„å»ºçš„äº¤äº’å¼Webç•Œé¢
2. **æœåŠ¡å±‚**ï¼šå¤„ç†ç”¨æˆ·è¾“å…¥ã€ç”Ÿæˆæç¤ºè¯ã€è°ƒç”¨APIç­‰æ ¸å¿ƒé€»è¾‘
3. **é…ç½®ç®¡ç†**ï¼šå¤„ç†åº”ç”¨é…ç½®å’ŒAPIå¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯
4. **å¤–éƒ¨æœåŠ¡é›†æˆ**ï¼šä¸å¤§è¯­è¨€æ¨¡å‹APIçš„é›†æˆ

ç³»ç»Ÿæµç¨‹å›¾ï¼š

```
ç”¨æˆ·è¾“å…¥ â†’ Streamlitç•Œé¢ â†’ æç¤ºè¯æ„å»º â†’ APIè°ƒç”¨ â†’ å›ç­”ç”Ÿæˆ â†’ æ ‡é¢˜æå– â†’ ç»“æœå±•ç¤º
```

### 2.2 ä¾èµ–ç»„ä»¶

- **Streamlit**ï¼šæ„å»ºäº¤äº’å¼Webåº”ç”¨ç•Œé¢
- **OpenAIå®¢æˆ·ç«¯åº“**ï¼šå¤„ç†ä¸å¤§è¯­è¨€æ¨¡å‹APIçš„é€šä¿¡
- **PyYAML**ï¼šå¤„ç†YAMLæ ¼å¼çš„é…ç½®æ–‡ä»¶

## 3. ä»£ç è®¾è®¡ä¸å®ç°

### 3.1 é…ç½®ç®¡ç†æ¨¡å— (config.py)

#### 3.1.1 è®¾è®¡ç†å¿µ

é…ç½®ç®¡ç†æ¨¡å—é‡‡ç”¨YAMLæ–‡ä»¶å­˜å‚¨é…ç½®ï¼Œå®ç°äº†ä»¥ä¸‹è®¾è®¡ç›®æ ‡ï¼š

- **çµæ´»æ€§**ï¼šæ”¯æŒå¤šç§æœåŠ¡æä¾›å•†é…ç½®
- **å®‰å…¨æ€§**ï¼šAPIå¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯ä¸ç›´æ¥ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
- **å¯æ‰©å±•æ€§**ï¼šæ–¹ä¾¿æ·»åŠ æ–°çš„æœåŠ¡æä¾›å•†

#### 3.1.2 æ ¸å¿ƒåŠŸèƒ½

1. **é…ç½®åŠ è½½**ï¼šä»`.env.yaml`æ–‡ä»¶åŠ è½½é…ç½®
2. **é»˜è®¤å€¼å¤„ç†**ï¼šå½“é…ç½®ç¼ºå¤±æ—¶æä¾›åˆç†çš„é»˜è®¤å€¼
3. **é…ç½®éªŒè¯**ï¼šéªŒè¯é…ç½®çš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§
4. **å¤šæä¾›å•†æ”¯æŒ**ï¼šæ”¯æŒç¡…åŸºæµåŠ¨ã€ç«å±±å¼•æ“ç­‰å¤šä¸ªAPIæä¾›å•†

#### 3.1.3 å…³é”®ä»£ç è§£æ

```python
# ä»é…ç½®ä¸­è·å–å€¼çš„è¾…åŠ©å‡½æ•°
def get_config_value(config, yaml_path, default=None):
    """æ ¹æ®è·¯å¾„ä»åµŒå¥—å­—å…¸ä¸­è·å–å€¼ï¼Œæ”¯æŒç‚¹åˆ†éš”ç¬¦è¯­æ³•"""
    keys = yaml_path.split('.')
    value = config
    for key in keys:
        if isinstance(value, dict) and key in value:
            value = value[key]
        else:
            return default
    return value

# æä¾›å•†é…ç½®å­—å…¸
PROVIDERS = {
    "ç¡…åŸºæµåŠ¨": {
        "name": "ç¡…åŸºæµåŠ¨",
        "api_key": get_config_value(env_config, 'siliconflow.api_key', ""),
        "base_url": get_config_value(env_config, 'siliconflow.base_url', "https://api.siliconflow.cn/v1"),
        "models": {
            "DeepSeek-V3": "deepseek-ai/DeepSeek-V3",
            # ...æ›´å¤šæ¨¡å‹é…ç½®
        }
    },
    # ...æ›´å¤šæä¾›å•†
}

# é…ç½®éªŒè¯å‡½æ•°
def validate_config():
    """éªŒè¯é…ç½®æ˜¯å¦å®Œæ•´æœ‰æ•ˆ"""
    warnings = []
    for provider, config in PROVIDERS.items():
        if not config["api_key"]:
            warnings.append(f"è­¦å‘Š: {provider} æœªé…ç½®APIå¯†é’¥")
    if warnings:
        print("\n".join(warnings))
        return False
    return True
```

### 3.2 æç¤ºè¯æ¨¡æ¿ (prompt.md)

#### 3.2.1 è®¾è®¡ç†å¿µ

æç¤ºè¯æ¨¡æ¿é‡‡ç”¨ç»“æ„åŒ–è®¾è®¡ï¼ŒåŸºäºè§’è‰²æ‰®æ¼”æ¨¡å¼ï¼ŒåŒ…å«ä»¥ä¸‹å…³é”®éƒ¨åˆ†ï¼š

- **Role**ï¼šæ˜ç¡®ç³»ç»Ÿè§’è‰²ä¸ºçˆ†æ¬¾æ ‡é¢˜ç”ŸæˆåŠ©æ‰‹
- **Background**ï¼šæä¾›èƒŒæ™¯çŸ¥è¯†ï¼ŒåŒ…æ‹¬çˆ†æ¬¾æ ‡é¢˜çš„ç†è®ºåŸºç¡€
- **Goals**ï¼šæ˜ç¡®ç³»ç»Ÿç›®æ ‡ï¼Œç¡®ä¿ç”Ÿæˆé«˜è´¨é‡æ ‡é¢˜
- **Constraints**ï¼šå®šä¹‰çº¦æŸæ¡ä»¶ï¼Œç¡®ä¿æ ‡é¢˜çœŸå®å‡†ç¡®
- **Multi-Angle Framework**ï¼šå®šä¹‰8ä¸ªæ ‡é¢˜ç”Ÿæˆè§’åº¦

#### 3.2.2 æ ‡é¢˜ç”Ÿæˆæ¡†æ¶

ç³»ç»Ÿä»ä»¥ä¸‹8ä¸ªè§’åº¦ç”Ÿæˆæ ‡é¢˜ï¼š

1. **æƒ…æ„Ÿå…±é¸£å‹**ï¼šæ¿€å‘è¯»è€…æƒ…æ„Ÿå…±é¸£ï¼Œå¼•èµ·ç¾¤ä½“è®¤åŒ
2. **é—®é¢˜è§£å†³å‹**ï¼šç›´æ¥é’ˆå¯¹ç—›ç‚¹ï¼Œæä¾›è§£å†³æ–¹æ¡ˆ
3. **å¥½å¥‡å¿ƒé©±åŠ¨å‹**ï¼šåˆ¶é€ ä¿¡æ¯å·®ï¼Œæ¿€å‘è¯»è€…å¥½å¥‡å¿ƒ
4. **è§‚ç‚¹å†²å‡»å‹**ï¼šæå‡ºåå¸¸è§„è§‚ç‚¹ï¼Œé¢ è¦†è¯»è€…è®¤çŸ¥
5. **ä»·å€¼å‘ˆç°å‹**ï¼šç›´æ¥å‘ˆç°å†…å®¹æ ¸å¿ƒä»·å€¼å’Œæ”¶ç›Š
6. **èº«ä»½è®¤åŒå‹**ï¼šé’ˆå¯¹ç‰¹å®šç¾¤ä½“ï¼Œå¼ºåŒ–èº«ä»½è®¤åŒæ„Ÿ
7. **çƒ­ç‚¹å€ŸåŠ¿å‹**ï¼šç»“åˆå½“ä¸‹çƒ­ç‚¹ï¼Œæå‡æ—¶æ•ˆæ€§
8. **æ•°å­—æ¡†æ¶å‹**ï¼šä½¿ç”¨æ•°å­—ç»“æ„ï¼Œæå‡å¯ä¿¡åº¦å’Œæ¡ç†æ€§

### 3.3 ä¸»åº”ç”¨ç¨‹åº (main.py)

#### 3.3.1 è®¾è®¡ç†å¿µ

ä¸»åº”ç”¨ç¨‹åºé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œå®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š

- **ä¼šè¯ç®¡ç†**ï¼šä½¿ç”¨Streamlitçš„session_stateç®¡ç†å¯¹è¯çŠ¶æ€
- **æµå¼å“åº”**ï¼šæ”¯æŒå¤§æ¨¡å‹çš„æµå¼è¾“å‡ºï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- **å“åº”å¼å¸ƒå±€**ï¼šæä¾›å‹å¥½çš„ç”¨æˆ·ç•Œé¢å’Œåé¦ˆæœºåˆ¶
- **æ ‡é¢˜æå–ä¸æ±‡æ€»**ï¼šè‡ªåŠ¨ä»å¤§æ¨¡å‹å›å¤ä¸­æå–æ ‡é¢˜

#### 3.3.2 æ ¸å¿ƒåŠŸèƒ½å®ç°

1. **Sessionåˆå§‹åŒ–**ï¼š

```python
def init_session():
    if "messages" not in st.session_state:
        st.session_state.messages = []
    if "titles" not in st.session_state:
        st.session_state.titles = []
    # ...å…¶ä»–ä¼šè¯çŠ¶æ€åˆå§‹åŒ–
```

2. **APIå®¢æˆ·ç«¯åˆ›å»º**ï¼š

```python
def create_api_client(provider_name):
    """åˆ›å»ºå¹¶è¿”å›APIå®¢æˆ·ç«¯"""
    provider_config = get_provider_config(provider_name)
    api_key = provider_config["api_key"]
    base_url = provider_config["base_url"]
    
    if not api_key:
        st.error(f"é”™è¯¯: {provider_name} çš„APIå¯†é’¥æœªé…ç½®")
        return None
    
    return OpenAI(api_key=api_key, base_url=base_url)
```

3. **æ ‡é¢˜æå–**ï¼š

```python
def extract_titles(text):
    """ä»ç”Ÿæˆçš„æ–‡æœ¬ä¸­æå–æ‰€æœ‰æ ‡é¢˜"""
    titles = re.findall(r'\*\*æ ‡é¢˜\*\*ï¼šã€Š(.*?)ã€‹', text)
    if not titles:
        # å°è¯•å…¶ä»–å¯èƒ½çš„æ ¼å¼
        titles = re.findall(r'æ ‡é¢˜[ï¼š:]\s*ã€Š(.*?)ã€‹', text)
    
    return titles
```

4. **èŠå¤©å¤„ç†**ï¼š

```python
def handle_chat(prompt, model, temperature, max_tokens):
    """å¤„ç†ç”¨æˆ·è¾“å…¥å¹¶è·å–AIå›å¤"""
    # æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
    st.session_state.messages.append({"role": "user", "content": prompt})
    
    # æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯
    with st.chat_message("user"):
        st.markdown(prompt)
    
    # æˆªæ–­ä¸Šä¸‹æ–‡ä»¥æ»¡è¶³ä¸Šä¸‹æ–‡é•¿åº¦è¦æ±‚
    messages_for_api = st.session_state.messages.copy()
    # ...ä¸Šä¸‹æ–‡å¤„ç†é€»è¾‘
    
    # ç”ŸæˆåŠ©æ‰‹å›å¤
    with st.chat_message("assistant"):
        response_placeholder = st.empty()
        collected_messages = []
        
        try:
            # è°ƒç”¨APIå¹¶æµå¼æ˜¾ç¤ºå›å¤
            client, model_list = get_current_client_and_models()
            response = client.chat.completions.create(
                model=model_list[model],
                messages=messages_for_api,
                stream=True,
                temperature=temperature,
                max_tokens=max_tokens,
            )
            
            # æµå¼æ˜¾ç¤ºå“åº”
            for chunk in response:
                if chunk.choices[0].delta.content is not None:
                    token = chunk.choices[0].delta.content
                    collected_messages.append(token)
                    response_placeholder.markdown("".join(collected_messages) + "â–Œ")
                    time.sleep(0.01)
            
            # æœ€ç»ˆå“åº”å¤„ç†
            final_response = "".join(collected_messages)
            response_placeholder.markdown(final_response)
            
            # ä¿å­˜åˆ°ä¼šè¯çŠ¶æ€
            st.session_state.messages.append({"role": "assistant", "content": final_response})
            
            # å¤„ç†é¦–æ¬¡è¯·æ±‚ï¼Œæå–æ ‡é¢˜
            if len(st.session_state.titles) == 0 and "ç”Ÿæˆ" in prompt and "æ ‡é¢˜" in prompt:
                titles = extract_titles(final_response)
                st.session_state.titles = titles
                
                # æ˜¾ç¤ºæ ‡é¢˜æ±‡æ€»å’Œå¤åˆ¶æŒ‰é’®
                if titles:
                    with st.expander("ğŸ“‹ æ ‡é¢˜æ±‡æ€»", expanded=True):
                        st.subheader("ç”Ÿæˆçš„çˆ†æ¬¾æ ‡é¢˜")
                        add_copy_button_for_titles(titles)
                        
        except Exception as e:
            # é”™è¯¯å¤„ç†é€»è¾‘
            error_msg = f"""
            <error>
                [é”™è¯¯åˆ†æ]
                APIè¯·æ±‚å¤±è´¥ï¼Œå¯èƒ½åŸå› ï¼š
                1. ä¸Šä¸‹æ–‡è¿‡é•¿ï¼ˆå½“å‰çº¦ï¼š{total_length}å­—ç¬¦ï¼‰
                2. APIè¿æ¥é—®é¢˜
                
                [ä¿®æ­£å»ºè®®]
                è¯·å°è¯•ä»¥ä¸‹æ“ä½œï¼š
                - é‡æ–°ç»„ç»‡é—®é¢˜è¡¨è¿°
                - ç‚¹å‡»"æ–°å»ºå¯¹è¯"ä»¥é‡è¯•
                - æ£€æŸ¥APIè¿æ¥è®¾ç½®
                
                æŠ€æœ¯é”™è¯¯: {str(e)}
            </error>
            """
            response_placeholder.error(error_msg)
```

5. **ç”¨æˆ·ç•Œé¢è®¾è®¡**ï¼š

```python
def main():
    """ä¸»å‡½æ•°ï¼Œè®¾ç½®Streamlitç•Œé¢"""
    # è®¾ç½®é¡µé¢é…ç½®
    st.set_page_config(
        page_title=APP_TITLE,
        page_icon="ğŸ”¥",
        layout="wide",
    )
    
    # æ·»åŠ è‡ªå®šä¹‰CSSç¾åŒ–ç•Œé¢
    st.markdown("""
    <style>
    /* é¡µé¢æ ‡é¢˜æ ·å¼ */
    h1 {
        color: #FF4500;
        text-align: center;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 30px;
    }
    # ...æ›´å¤šCSSæ ·å¼
    </style>
    """, unsafe_allow_html=True)
    
    # ä¾§è¾¹æ è®¾è®¡
    with st.sidebar:
        st.header("âš™ï¸ å‚æ•°è®¾ç½®")
        
        # æ¨¡å‹é€‰æ‹©
        selected_model = st.selectbox(
            "é€‰æ‹©æ¨¡å‹",
            list(MODEL_LIST.keys()),
            index=0
        )
        
        # æ¸©åº¦å‚æ•°
        temperature = st.slider(
            "æ¸©åº¦å‚æ•°",
            min_value=0.0,
            max_value=2.0,
            value=0.7,
            step=0.1,
            help="è¾ƒé«˜çš„å€¼ä¼šä½¿è¾“å‡ºæ›´éšæœºï¼Œè¾ƒä½çš„å€¼ä¼šä½¿å…¶æ›´åŠ é›†ä¸­å’Œç¡®å®š"
        )
        
        # ...æ›´å¤šå‚æ•°è®¾ç½®
```

#### 3.3.3 ä¸€é”®å¤åˆ¶åŠŸèƒ½å®ç°

ä¸ºäº†å®ç°æ— åˆ·æ–°çš„æ ‡é¢˜å¤åˆ¶åŠŸèƒ½ï¼Œé¡¹ç›®ä½¿ç”¨JavaScriptå’ŒStreamlitçš„HTMLç»„ä»¶ï¼š

```python
def add_copy_button_for_titles(titles):
    """ä¸ºæ ‡é¢˜æ·»åŠ å¤åˆ¶æŒ‰é’®ï¼Œä½¿ç”¨JavaScriptå®ç°æ— åˆ·æ–°å¤åˆ¶"""
    if not titles:
        return
        
    all_titles = "\n".join([f"{i+1}. ã€Š{title}ã€‹" for i, title in enumerate(titles)])
    
    # æ˜¾ç¤ºæ ‡é¢˜åˆ—è¡¨
    st.code(all_titles, language="text")
    
    # åˆ›å»ºJavaScriptå¤åˆ¶æŒ‰é’®
    copy_button_html = f"""
    <script>
    function copyToClipboard() {{
        const text = `{all_titles}`;
        navigator.clipboard.writeText(text)
            .then(() => {{
                document.getElementById('copy-status').textContent = 'âœ… å¤åˆ¶æˆåŠŸï¼';
                setTimeout(() => {{
                    document.getElementById('copy-status').textContent = '';
                }}, 2000);
            }}).catch(err => {{
                document.getElementById('copy-status').textContent = 'âŒ å¤åˆ¶å¤±è´¥';
                console.error('å¤åˆ¶å¤±è´¥:', err);
            }});
    }}
    </script>
    <button onclick="copyToClipboard()" style="background-color: #4CAF50; color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer;">
        ğŸ“‹ å¤åˆ¶å…¨éƒ¨æ ‡é¢˜
    </button>
    <span id="copy-status" style="margin-left: 10px;"></span>
    """
    
    st.components.v1.html(copy_button_html, height=50)
```

## 4. ç³»ç»Ÿæµç¨‹

### 4.1 å¯åŠ¨æµç¨‹

1. åº”ç”¨å¯åŠ¨æ—¶åŠ è½½é…ç½®æ–‡ä»¶ (.env.yaml)
2. éªŒè¯é…ç½®çš„å®Œæ•´æ€§å’Œæœ‰æ•ˆæ€§
3. åˆå§‹åŒ–Streamlité¡µé¢å’Œä¼šè¯çŠ¶æ€
4. è®¾ç½®ç³»ç»Ÿæç¤ºè¯å’Œæ¬¢è¿æ¶ˆæ¯

### 4.2 ç”¨æˆ·äº¤äº’æµç¨‹

1. ç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹ä¸»é¢˜æˆ–å…³é”®è¯
2. ç³»ç»Ÿå°†ç”¨æˆ·è¾“å…¥æ·»åŠ åˆ°å¯¹è¯å†å²
3. ç³»ç»Ÿæ„å»ºå®Œæ•´çš„APIè¯·æ±‚ï¼ŒåŒ…å«ç³»ç»Ÿæç¤ºè¯å’Œå¯¹è¯å†å²
4. è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹APIè·å–å›å¤
5. æµå¼æ˜¾ç¤ºAPIå“åº”
6. ä»å“åº”ä¸­æå–ç”Ÿæˆçš„æ ‡é¢˜
7. æ˜¾ç¤ºæ ‡é¢˜æ±‡æ€»å’Œå¤åˆ¶æŒ‰é’®

### 4.3 é”™è¯¯å¤„ç†æµç¨‹

1. é…ç½®éªŒè¯å¤±è´¥ï¼šæ˜¾ç¤ºè­¦å‘Šä¿¡æ¯
2. APIè¿æ¥å¤±è´¥ï¼šæ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯å’Œå¯èƒ½çš„åŸå› 
3. ä¸Šä¸‹æ–‡è¿‡é•¿ï¼šè‡ªåŠ¨æˆªæ–­å¯¹è¯å†å²ä»¥é€‚åº”ä¸Šä¸‹æ–‡é•¿åº¦é™åˆ¶

## 5. ä¼˜åŒ–ä¸æ€§èƒ½

### 5.1 å·²å®ç°çš„ä¼˜åŒ–

- **æµå¼è¾“å‡º**ï¼šä½¿ç”¨æµå¼APIå‡å°‘é¦–å­—ç­‰å¾…æ—¶é—´
- **ä¼šè¯çŠ¶æ€ç®¡ç†**ï¼šæœ‰æ•ˆç®¡ç†å¯¹è¯å†å²å’Œæ ‡é¢˜ç¼“å­˜
- **ä¸Šä¸‹æ–‡é•¿åº¦æ§åˆ¶**ï¼šè‡ªåŠ¨æˆªæ–­è¿‡é•¿çš„å¯¹è¯å†å²
- **å“åº”å¼UI**ï¼šé€šè¿‡è‡ªå®šä¹‰CSSæå‡ç”¨æˆ·ä½“éªŒ

### 5.2 å¯èƒ½çš„è¿›ä¸€æ­¥ä¼˜åŒ–

- **æ ‡é¢˜ç¼“å­˜**ï¼šå®ç°æ ‡é¢˜ç”Ÿæˆç»“æœçš„æŒä¹…åŒ–ä¿å­˜
- **æ‰¹é‡ç”Ÿæˆ**ï¼šæ”¯æŒå¤šä¸ªä¸»é¢˜æ‰¹é‡ç”Ÿæˆæ ‡é¢˜
- **ç”¨æˆ·è‡ªå®šä¹‰æç¤ºè¯**ï¼šå…è®¸ç”¨æˆ·è°ƒæ•´æç¤ºè¯æ¨¡æ¿
- **å†å²ä¼šè¯ç®¡ç†**ï¼šå®ç°å¤šä¸ªä¼šè¯çš„ä¿å­˜å’Œæ¢å¤
- **æ ‡é¢˜è¯„åˆ†ç³»ç»Ÿ**ï¼šå¯¹ç”Ÿæˆçš„æ ‡é¢˜è¿›è¡Œè´¨é‡è¯„åˆ†

## 6. å®‰å…¨ä¸éšç§

### 6.1 APIå¯†é’¥ç®¡ç†

- ä½¿ç”¨YAMLé…ç½®æ–‡ä»¶å­˜å‚¨APIå¯†é’¥ï¼Œä¸ç›´æ¥ç¡¬ç¼–ç 
- .gitignoreæ–‡ä»¶ä¸­åŒ…å«.env.yamlï¼Œé˜²æ­¢å¯†é’¥è¢«æäº¤åˆ°ä»£ç ä»“åº“
- æä¾›ç¤ºä¾‹é…ç½®æ–‡ä»¶(.env.example.yaml)ï¼Œä¸å«çœŸå®å¯†é’¥

### 6.2 æ•°æ®å¤„ç†

- æ‰€æœ‰ç”¨æˆ·è¾“å…¥å’Œç”Ÿæˆå†…å®¹ä»…åœ¨ä¼šè¯æœŸé—´ä¿å­˜åœ¨å†…å­˜ä¸­
- ä¸è¿›è¡Œæ°¸ä¹…æ€§çš„æ•°æ®å­˜å‚¨
- ä¸æ”¶é›†ç”¨æˆ·ä¸ªäººä¿¡æ¯

## 7. éƒ¨ç½²è¯´æ˜

### 7.1 æœ¬åœ°éƒ¨ç½²

1. å®‰è£…Python 3.8æˆ–æ›´é«˜ç‰ˆæœ¬
2. å…‹éš†ä»£ç ä»“åº“
3. å®‰è£…ä¾èµ–ï¼š`pip install -r requirements.txt`
4. åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šå¤åˆ¶.env.example.yamlä¸º.env.yamlå¹¶å¡«å…¥APIå¯†é’¥
5. å¯åŠ¨åº”ç”¨ï¼š`streamlit run main.py`

### 7.2 æœåŠ¡å™¨éƒ¨ç½²

1. å‡†å¤‡æœåŠ¡å™¨ç¯å¢ƒï¼ˆPython 3.8+ï¼‰
2. è®¾ç½®è™šæ‹Ÿç¯å¢ƒï¼š`python -m venv venv`
3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š`source venv/bin/activate`ï¼ˆLinux/Macï¼‰æˆ– `venv\Scripts\activate`ï¼ˆWindowsï¼‰
4. å®‰è£…ä¾èµ–ï¼š`pip install -r requirements.txt`
5. é…ç½®APIå¯†é’¥ï¼šåˆ›å»º.env.yamlæ–‡ä»¶
6. ä½¿ç”¨tmuxæˆ–nohupå¯åŠ¨åº”ç”¨ï¼š`nohup streamlit run main.py &`

## 8. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 8.1 APIè¿æ¥å¤±è´¥

**é—®é¢˜**ï¼šåº”ç”¨æ— æ³•è¿æ¥åˆ°å¤§è¯­è¨€æ¨¡å‹API
**è§£å†³æ–¹æ¡ˆ**ï¼š

- æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®é…ç½®åœ¨.env.yamlæ–‡ä»¶ä¸­
- ç¡®è®¤æ‰€é€‰æœåŠ¡æä¾›å•†çš„æœåŠ¡çŠ¶æ€
- æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®

### 8.2 æ ‡é¢˜æå–å¤±è´¥

**é—®é¢˜**ï¼šç”Ÿæˆçš„å›ç­”ä¸­æ— æ³•æå–æ ‡é¢˜
**è§£å†³æ–¹æ¡ˆ**ï¼š

- è°ƒæ•´prompt.mdä¸­çš„è¾“å‡ºæ ¼å¼æŒ‡ç¤ºï¼Œå¼ºåŒ–è¾“å‡ºç»“æ„ä¸€è‡´æ€§
- åœ¨extract_titleså‡½æ•°ä¸­æ·»åŠ æ›´å¤šæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åŒ¹é…ä¸åŒçš„æ ‡é¢˜æ ¼å¼

### 8.3 ä¸Šä¸‹æ–‡é•¿åº¦è¶…é™

**é—®é¢˜**ï¼šå¯¹è¯å†å²è¿‡é•¿å¯¼è‡´APIè¯·æ±‚å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼š

- å·²å®ç°è‡ªåŠ¨æˆªæ–­æœºåˆ¶ï¼Œä½†å¯èƒ½éœ€è¦è°ƒæ•´æˆªæ–­ç­–ç•¥
- æç¤ºç”¨æˆ·ä½¿ç”¨"æ–°å»ºå¯¹è¯"æŒ‰é’®é‡ç½®ä¼šè¯çŠ¶æ€
